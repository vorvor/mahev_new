$(document).ready(function(){var n;$("._configurator-3d").prepend('<div id="progress-bar-3d" class="hidden">loading</div>'),path="/sequences/",whichAnim="outer",loadedProjects=[],model=$("#configurator").data("model"),facility=$("._configurator-tabs #conf-tab-1 ._radio-extras:eq(0)").data("val"),extColor=getCookie("mahev_exterior"),""===extColor?extColor=$("._configurator-tabs #conf-tab-2 ._radio-extras:eq(0)").data("val"):$("._configurator-tabs #conf-tab-2 ._radio-extras").each(function(){extHuman=$(".text-sm",this).html(),extHuman==extColor?extColor=$(this).data("val"):extColor=$("._configurator-tabs #conf-tab-2 ._radio-extras:eq(0)").data("val")}),rim=getCookie("mahev_rim"),""===rim?rim=$("._configurator-tabs #conf-tab-3 ._radio-extras:eq(0)").data("val"):$("._configurator-tabs #conf-tab-3 ._radio-extras").each(function(){rimHuman=$(".text-sm",this).html(),rimHuman==rim?rim=$(this).data("val"):rim=$("._configurator-tabs #conf-tab-3 ._radio-extras:eq(0)").data("val")}),intColor=getCookie("mahev_interior"),""===intColor?intColor=$("._configurator-tabs #conf-tab-4 ._radio-extras:eq(0)").data("val"):$("._configurator-tabs #conf-tab-4 ._radio-extras").each(function(){interiorHuman=$(".text-sm",this).html(),interiorHuman==intColor?intColor=$(this).data("val"):intColor=$("._configurator-tabs #conf-tab-4 ._radio-extras:eq(0)").data("val")}),hook="";var t=i();function i(){return t=model+"_"+facility+"_"+extColor+"_"+intColor+"_"+rim,void 0!==hook&&""!==hook&&(t+="_"+hook),configpic=t,"MS"==model&&("LR"==facility&&(configpic=model+"_"+facility+"_"+extColor+"_IntBkEb_"+rim),"PL"==facility&&(configpic=model+"_"+facility+"_"+extColor+"_IntBkCarb_"+rim)),"MX"==model&&(configpic=model+"_"+facility+"_"+extColor+"_IntBk_"+rim,void 0!==hook&&""!==hook&&(configpic+="_"+hook)),setCookie("mahev_configpic",configpic),t}function e(n){$("#configurator .sequence-image").addClass("hidden")}function r(n=null){t=i(),null==n&&(n=4*$("#slider").val()),picnumstring=("00000"+n).slice(-5),picstring=path+"/"+t+"/"+t+"_"+picnumstring+".jpg",$("#configurator ."+t+"-"+picnumstring).length>0&&(e(),$("#configurator ."+t+"-"+picnumstring).removeClass("hidden"))}function o(){if(picnum=77,innerProject=i(),picnumstring=("00000"+picnum).slice(-5),picstring="/sequences/rotate/ZOOMIN/"+innerProject+"/"+innerProject+"_"+picnumstring+".jpg",0==$(".inner-"+innerProject+"-"+picnumstring).length){var n=new Image;n.className="hidden sequence-image inner-"+innerProject+"-"+picnumstring,n.src=picstring,n.onload=function(){e(),$("#configurator .inner-"+innerProject+"-"+picnumstring).removeClass("hidden")},$("#configurator .inset-0").prepend(n)}else e(),$("#configurator .inner-"+innerProject+"-"+picnumstring).removeClass("hidden")}function c(n,t,i){if(n<406&&n>-1){$("#progress-bar-3d").removeClass("hidden"),picnumstring=("00000"+n).slice(-5),picstring=path+"/"+i+"/"+i+"_"+picnumstring+".jpg";var e=new Image;e.className="hidden sequence-image "+i+"-"+picnumstring,e.src=picstring,"start"==t&&(e.onload=function(){r()}),$("#configurator .inset-0").prepend(e),"right"==t&&setTimeout(function(){c(n+4,"right",i)},50),"left"==t&&setTimeout(function(){c(n-4,"left",i)},50),"start"==t&&(setTimeout(function(){c(n+4,"right",i)},50),setTimeout(function(){c(n-4,"left",i)},50))}else $("#progress-bar-3d").addClass("hidden")}function a(t){picnum=4*$("#slider").val(),step=4,function t(i,c,a){c!==a?((a+=i)>406&&(a=0),r(a),animSpeed=40,n=setTimeout(function(){t(i,c,a)},animSpeed)):function t(i){i<77?(picnumstring=("00000"+i).slice(-5),e(),$("#configurator .inset-0 .inner-"+innerProject+"-"+picnumstring).removeClass("hidden"),n=setTimeout(function(){t(i+1)},50)):(o(),n=null)}(0)}(step,t,picnum)}$("._configurator-tabs ._radio-extras").click(function(){if(prop=$(this).data("prop"),window[prop]=$(this).data("val"),null==n)return"intColor"==prop&&"MS"!=model&&"MX"!==model?(o(),!0):void("facility"!=prop&&"extColor"!=prop&&"intColor"!=prop&&"rim"!=prop||(t=i(),picnum=4*$("#slider").val(),picnumstring=("00000"+picnum).slice(-5),0==$("#configurator ."+t+"-"+picnumstring).length?(c(picnum,"start",t),loadedProjects.push(i())):r()))}),$("._configurator-tabs ._toggle-extras.towing-hook").click(function(){$(this).hasClass("on")?hook="TH":hook="",t=i(),picnum=4*$("#slider").val(),loadedProjects.includes(t)?r():(c(picnum,"start",t),loadedProjects.push(i()))}),rangesliderJs.create(document.getElementById("slider"),{onSlide:(n,t,i)=>{r()}}),c(80,"start",t),loadedProjects.push(i()),$("._tab-nav a:nth-child(4)").click(function(){"MS"!=model&&"MX"!=model&&(checkProject=i(),"MY_PE_ExWh_IntBk_21cUturb/MY_PE_ExWh_IntBk_21cUturb"==checkProject&&(checkProject="MY_PE_ExWh_IntBk_21cUturb/MY_PE_ExWh_IntBk_21cUturb_Spr"),"outer"==whichAnim&&null==n&&(0==$(".inner-"+checkProject+"-00001").length&&function t(e){e<77?(picnumstring=("00000"+e).slice(-5),innerProject=i(),picstring="/sequences/rotate/ZOOMIN/"+innerProject+"/"+innerProject+"_"+picnumstring+".jpg",$("#configurator .inset-0").prepend('<img class="hidden sequence-image inner-'+innerProject+"-"+picnumstring+'" src="'+picstring+'">'),n=setTimeout(function(){t(e+1)},50)):loadedProjects.push(innerProject)}(0),a(60),whichAnim="inner",$("#slide").addClass("hidden")))}),$("._tab-nav a:nth-child(-n+3)").click(function(){"MS"!=model&&"MX"!=model&&(checkProject=i(),"MY_PE_ExWh_IntBk_21cUturb/MY_PE_ExWh_IntBk_21cUturb"==checkProject&&(checkProject="MY_PE_ExWh_IntBk_21cUturb/MY_PE_ExWh_IntBk_21cUturb_Spr"),"inner"==whichAnim&&null==n&&(0==$(".outer-"+checkProject+"-00001").length&&function t(e){e<77?(picnumstring=("00000"+e).slice(-5),innerProject=i(),"MY_PE_ExWh_IntBk_21cUturb/MY_PE_ExWh_IntBk_21cUturb"==innerProject&&(innerProject="MY_PE_ExWh_IntBk_21cUturb/MY_PE_ExWh_IntBk_21cUturb_Spr"),picstring="/sequences/rotate/ZOOMOUT/"+innerProject+"/"+innerProject+"_"+picnumstring+".jpg",$("#configurator .inset-0").prepend('<img class="hidden sequence-image outer-'+innerProject+"-"+picnumstring+'" src="'+picstring+'">'),n=setTimeout(function(){t(e+1)},50)):loadedProjects.push(innerProject)}(0),setTimeout(function(){!function o(a){a<77?(picnumstring=("00000"+a).slice(-5),e(),"MY_PE_ExWh_IntBk_21cUturb/MY_PE_ExWh_IntBk_21cUturb"==innerProject&&(innerProject="MY_PE_ExWh_IntBk_21cUturb/MY_PE_ExWh_IntBk_21cUturb_Spr"),$("#configurator .inset-0 .outer-"+innerProject+"-"+picnumstring).removeClass("hidden"),n=setTimeout(function(){o(a+1)},50)):(document.getElementById("slider").value=49,$('input[type="range"]').change(),n=null,t=i(),picnum=48,picnumstring=("00000"+picnum).slice(-5),0==$("#configurator ."+t+"-"+picnumstring).length?(c(picnum,"start",t),loadedProjects.push(i())):r())}(0)},1e3),whichAnim="outer",$("#slide").removeClass("hidden")))})});